(this.webpackJsonpspeechstate=this.webpackJsonpspeechstate||[]).push([[0],{170:function(t,e,n){},218:function(t,e){},357:function(t,e){},360:function(t,e){},364:function(t,e){},365:function(t,e){},366:function(t,e){},367:function(t,e){},368:function(t,e){},456:function(t,e,n){"use strict";n.r(e);var r=n(166),c=n(51),o=(n(170),n(14),n(159)),u=n(25),a=n(94),i=n(3),s=n(459),m=n(460);function l(t){return Object(i.q)((function(e){return{type:"SPEAK",value:t}}))}var f={"Lecture.":{title:"Dialogue systems lecture"},"Lunch.":{title:"Lunch at the canteen"},"Cinema.":{title:"A movie at the cinema"},"Walk.":{title:"A walk in the park"},"Date.":{title:"A romantic date at a great restaurant"},"Language course.":{title:"Swedish language course on zoom"},"Programming.":{title:"Programming the assignment with classmates"},"Video games.":{title:"Gaming with friends"},"Phone call.":{title:"A call with the family"},"It's a lecture.":{title:"Dialogue systems lecture"},"It's a lunch.":{title:"Lunch at the canteen"},"It's cinema.":{title:"A movie at the cinema"},"It's a walk.":{title:"A walk in the park"},"It's a date.":{title:"A romantic date at a great restaurant"},"It's a language course.":{title:"Swedish language course on zoom"},"It's programming.":{title:"Programming the assignment with classmates"},"It's video games.":{title:"Gaming with friends"},"It's a phone call.":{title:"A call with the family"},"On Monday.":{day:"Monday"},"On Tuesday.":{day:"Tuesday"},"On Wednesday.":{day:"Wednesday"},"On Thursday.":{day:"Thursday"},"On Friday.":{day:"Friday"},"On Saturday.":{day:"Saturday"},"On Sunday.":{day:"Sunday"},"Monday.":{day:"Monday"},"Tuesday.":{day:"Tuesday"},"Wednesday.":{day:"Wednesday"},"Thursday.":{day:"Thursday"},"Friday.":{day:"Friday"},"Saturday.":{day:"Saturday"},"Sunday.":{day:"Sunday"},Monday:{day:"Monday"},Tuesday:{day:"Tuesday"},Wednesday:{day:"Wednesday"},Thursday:{day:"Thursday"},Friday:{day:"Friday"},Saturday:{day:"Saturday"},Sunday:{day:"Sunday"},Today:{day:"today"},"Tomorrow.":{day:"tomorrow"},"Midday.":{time:"12:00"},"At noon":{time:"12:00"},"10.":{time:"10:00"},"11.":{time:"11:00"},"12.":{time:"12:00"},"1.":{time:"1:00"},"2.":{time:"2:00"},"3.":{time:"3:00"},"4.":{time:"4:00"},"5.":{time:"5:00"},"6.":{time:"6:00"},"7.":{time:"7:00"},"8.":{time:"8:00"},"9.":{time:"9:00"},10:{time:"10:00"},11:{time:"11:00"},12:{time:"12:00"},1:{time:"1:00"},2:{time:"2:00"},3:{time:"3:00"},4:{time:"4:00"},5:{time:"5:00"},6:{time:"6:00"},7:{time:"7:00"},8:{time:"8:00"},9:{time:"9:00"},"At 10:00":{time:"10:00"},"At 11:00":{time:"11:00"},"At 12:00":{time:"12:00"},"At 1:00":{time:"1:00"},"At 2:00":{time:"2:00"},"At 3:00":{time:"3:00"},"At 4:00":{time:"4:00"},"At 5:00":{time:"5:00"},"At 6:00":{time:"6:00"},"At 7:00":{time:"7:00"},"At 8:00":{time:"8:00"},"At 9:00":{time:"9:00"},"At ten":{time:"10:00"},"At eleven":{time:"11:00"},"At twelve":{time:"12:00"},"At one":{time:"1:00"},"At two":{time:"2:00"},"At three":{time:"3:00"},"At four":{time:"4:00"},"At five":{time:"5:00"},"At six":{time:"6:00"},"At seven":{time:"7:00"},"At eight":{time:"8:00"},"At nine":{time:"9:00"},"At 10:00 o'clock.":{time:"10:00"},"At 11:00 o'clock.":{time:"11:00"},"At 12:00 o'clock.":{time:"12:00"},"At 1:00 o'clock.":{time:"1:00"},"At 2:00 o'clock.":{time:"2:00"},"At 3:00 o'clock.":{time:"3:00"},"At 4:00 o'clock.":{time:"4:00"},"At 5:00 o'clock.":{time:"5:00"},"At 6:00 o'clock.":{time:"6:00"},"At 7:00 o'clock.":{time:"7:00"},"At 8:00 o'clock.":{time:"8:00"},"At 9:00 o'clock.":{time:"9:00"},"10:00 o'clock.":{time:"10:00"},"11:00 o'clock.":{time:"11:00"},"12:00 o'clock.":{time:"12:00"},"1:00 o'clock.":{time:"1:00"},"2:00 o'clock.":{time:"2:00"},"3:00 o'clock.":{time:"3:00"},"4:00 o'clock.":{time:"4:00"},"5:00 o'clock.":{time:"5:00"},"6:00 o'clock.":{time:"6:00"},"7:00 o'clock.":{time:"7:00"},"8:00 o'clock.":{time:"8:00"},"9:00 o'clock.":{time:"9:00"},"10:00 o'clock":{time:"10:00"},"11:00 o'clock":{time:"11:00"},"12:00 o'clock":{time:"12:00"},"1:00 o'clock":{time:"1:00"},"2:00 o'clock":{time:"2:00"},"3:00 o'clock":{time:"3:00"},"4:00 o'clock":{time:"4:00"},"5:00 o'clock":{time:"5:00"},"6:00 o'clock":{time:"6:00"},"7:00 o'clock":{time:"7:00"},"8:00 o'clock":{time:"8:00"},"9:00 o'clock":{time:"9:00"}},d={"Yes.":{confirmation:"Yes"},"Yeah.":{confirmation:"Yes"},"Of course.":{confirmation:"Yes"},"Exactly.":{confirmation:"Yes"},"Yeah, exactly.":{confirmation:"Yes"},"No.":{negation:"No"},"Nope.":{negation:"No"},"No way.":{negation:"No"},"Not what I said.":{negation:"No"},"Help.":{help:"Help"},"Help me.":{help:"Help"},"I don't know what to do.":{help:"Help"},"I don't know what to say.":{help:"Help"}},g={"I want to create a meeting.":{meeting:"Yes"},"Create a meeting.":{meeting:"Yes"},"Create a new meeting.":{meeting:"Yes"},"I want you to create a meeting.":{meeting:"Yes"},"I want you to create a new meeting.":{meeting:"Yes"},"Make a meeting.":{meeting:"Yes"},"A meeting.":{meeting:"Yes"},"I want a meeting.":{meeting:"Yes"},"Meeting.":{meeting:"Yes"},Meeting:{meeting:"Yes"},"I want to ask about somebody.":{celebrity:"Yes"},"I want to ask about someone.":{celebrity:"Yes"},"Ask about somebody.":{celebrity:"Yes"},"Ask about someone.":{celebrity:"Yes"},"I want to ask.":{celebrity:"Yes"},"I want to ask about a celebrity.":{celebrity:"Yes"},"Ask about a celebrity.":{celebrity:"Yes"},"A celebrity.":{celebrity:"Yes"},"I want to ask about a famous person.":{celebrity:"Yes"},"Ask about a famous person.":{celebrity:"Yes"},"A famous person.":{celebrity:"Yes"},"Somebody.":{celebrity:"Yes"},Somebody:{celebrity:"Yes"},"Someone.":{celebrity:"Yes"},Someone:{celebrity:"Yes"},"Ask.":{celebrity:"Yes"},Ask:{celebrity:"Yes"}},p={initial:"idle",entry:Object(i.b)({counter:function(t){return 0}}),states:{idle:{on:{CLICK:"init"}},init:{on:{TTS_READY:"appointmentApp",CLICK:"appointmentApp"}},getHelp:{initial:"explain",states:{explain:{entry:l("Please make sure to speak slowly and clearly so that the system understands you."),on:{ENDSPEECH:"#root.dm.appointmentApp.hist"}}}},appointmentApp:{initial:"askForName",states:{hist:{type:"history"},askForName:{initial:"choose",on:{RECOGNISED:[{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:"greet",cond:function(t){return t.recResult[0].confidence>.6},actions:[Object(i.b)({username:function(t){return t.recResult[0].utterance}}),Object(i.b)({counter:function(t){return 0}})]},{target:".makeSureName",cond:function(t){return t.recResult[0].confidence<=.6},actions:[Object(i.b)({uncertain:function(t){return t.recResult[0].utterance}})]}],TIMEOUT:{actions:Object(i.b)({counter:function(t){return t.counter+1}}),target:".choose"}},states:{choose:{always:[{target:"prompt1",cond:function(t){return 0===t.counter}},{target:"prompt2",cond:function(t){return 1===t.counter}},{target:"prompt3",cond:function(t){return 2===t.counter}},{target:"#root.dm.init",cond:function(t){return 3===t.counter}}]},prompt1:{entry:l("What's your name?"),on:{ENDSPEECH:"ask"}},prompt2:{entry:l("What should I call you?"),on:{ENDSPEECH:"ask"}},prompt3:{entry:l("Please tell me your name."),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},makeSureName:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.greet",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}}),Object(i.b)({username:function(t){return t.uncertain}})]},{target:"#root.dm.appointmentApp.askForName",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.uncertain,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureConfirmation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.greet",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}}),Object(i.b)({username:function(t){return t.uncertain}})]},{target:"#root.dm.appointmentApp.askForName",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureNegation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.askForName",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"#root.dm.appointmentApp.greet",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}}),Object(i.b)({username:function(t){return t.uncertain}})]},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}}}},greet:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Welcome, ".concat(t.username,".")}})),on:{ENDSPEECH:"welcome"}},welcome:{initial:"choose",on:{RECOGNISED:[{target:".makeSureMeeting",cond:function(t){return"meeting"in(g[t.recResult[0].utterance]||{})},actions:[Object(i.b)({uncertain:function(t){return t.recResult[0].utterance}})]},{target:".makeSureCelebrity",cond:function(t){return"celebrity"in(g[t.recResult[0].utterance]||{})},actions:[Object(i.b)({uncertain:function(t){return t.recResult[0].utterance}})]},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch",actions:Object(i.b)({counter:function(t){return t.counter+1}})}],TIMEOUT:{actions:Object(i.b)({counter:function(t){return t.counter+1}}),target:".choose"}},states:{choose:{always:[{target:"prompt1",cond:function(t){return 0===t.counter}},{target:"prompt2",cond:function(t){return 1===t.counter}},{target:"prompt3",cond:function(t){return 2===t.counter}},{target:"#root.dm.init",cond:function(t){return 3===t.counter}}]},prompt1:{entry:l("Do you want to create a meeting or ask about somebody?"),on:{ENDSPEECH:"ask"}},prompt2:{entry:l("Would you prefer to create a new meeting or ask about a celebrity?"),on:{ENDSPEECH:"ask"}},prompt3:{entry:l("Please tell me if you want to make a meeting or ask about a famous person."),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I didn't understand that."),on:{ENDSPEECH:"choose"}},makeSureMeeting:{initial:"choose",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.purpose",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}})]},{target:"#root.dm.appointmentApp.welcome",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:".makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6}},{target:".makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6}},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{choose:{always:[{target:"#root.dm.appointmentApp.purpose",cond:function(t){return t.recResult[0].confidence>.6}},{target:"makeSure",cond:function(t){return t.recResult[0].confidence<=.6}}]},makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.uncertain,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}},makeSureConfirmation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.purpose",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}})]},{target:"#root.dm.appointmentApp.welcome",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureNegation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.welcome",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"#root.dm.appointmentApp.purpose",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}})]},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}}}},makeSureCelebrity:{initial:"choose",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.celebrity",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}})]},{target:"#root.dm.appointmentApp.welcome",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:".makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6}},{target:".makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6}},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{choose:{always:[{target:"#root.dm.appointmentApp.celebrity",cond:function(t){return t.recResult[0].confidence>.6}},{target:"makeSure",cond:function(t){return t.recResult[0].confidence<=.6}}]},makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.uncertain,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}},makeSureConfirmation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.celebrity",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}})]},{target:"#root.dm.appointmentApp.welcome",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureNegation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.welcome",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"#root.dm.appointmentApp.celebrity",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}})]},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}}}}}},celebrity:{initial:"choose",on:{RECOGNISED:[{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:"confirmCeleb",cond:function(t){return t.recResult[0].confidence>.6},actions:[Object(i.b)({celebrity:function(t){return t.recResult[0].utterance}}),Object(i.b)({counter:function(t){return 0}})]},{target:".makeSureCeleb",cond:function(t){return t.recResult[0].confidence<=.6},actions:[Object(i.b)({uncertain:function(t){return t.recResult[0].utterance}})]}],TIMEOUT:{actions:Object(i.b)({counter:function(t){return t.counter+1}}),target:".choose"}},states:{choose:{always:[{target:"prompt1",cond:function(t){return 0===t.counter}},{target:"prompt2",cond:function(t){return 1===t.counter}},{target:"prompt3",cond:function(t){return 2===t.counter}},{target:"#root.dm.init",cond:function(t){return 3===t.counter}}]},prompt1:{entry:l("Who do you want to know about?"),on:{ENDSPEECH:"ask"}},prompt2:{entry:l("What celebrity would you like to hear about?"),on:{ENDSPEECH:"ask"}},prompt3:{entry:l("Please tell me the name of the person you want me to tell you about."),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},makeSureCeleb:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.confirmCeleb",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}}),Object(i.b)({celebrity:function(t){return t.uncertain}})]},{target:"#root.dm.appointmentApp.celebrity",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:[Object(i.b)({counter:function(t){return 0}}),Object(i.b)({celebrity:function(t){return t.uncertain}})]},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6}},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.uncertain,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureConfirmation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.confirmCeleb",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}}),Object(i.b)({username:function(t){return t.uncertain}})]},{target:"#root.dm.appointmentApp.celebrity",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureNegation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.celebrity",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"#root.dm.appointmentApp.confirmCeleb",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}}),Object(i.b)({username:function(t){return t.uncertain}})]},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}}}},confirmCeleb:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"OK, looking for information about ".concat(t.celebrity)}})),on:{ENDSPEECH:"getCeleb"}},getCeleb:{invoke:{id:"getInfo",src:function(t,e){return n=t.celebrity,fetch(new Request("https://cors.eu.org/https://api.duckduckgo.com/?q=".concat(n,"&format=json&skip_disambig=1"))).then((function(t){return t.json()}));var n},onDone:{target:"celebMeeting",actions:[Object(i.b)({info:function(t,e){return e.data.AbstractText}}),function(t,e){return console.log(t,e)}]},onError:{target:"celebrity"}}},celebMeeting:{initial:"prompt",on:{RECOGNISED:[{target:"date",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})},actions:[Object(i.b)({title:function(t){return"meeting with ".concat(t.celebrity)}}),Object(i.b)({counter:function(t){return 0}})]},{target:"welcome",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})},actions:Object(i.b)({counter:function(t){return 0}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch",actions:Object(i.b)({counter:function(t){return t.counter+1}})}],TIMEOUT:{actions:Object(i.b)({counter:function(t){return t.counter+1}}),target:".choose"}},states:{prompt:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"".concat(t.info)}})),on:{ENDSPEECH:"choose"}},choose:{always:[{target:"prompt1",cond:function(t){return 0===t.counter}},{target:"prompt2",cond:function(t){return 1===t.counter}},{target:"prompt3",cond:function(t){return 2===t.counter}},{target:"#root.dm.init",cond:function(t){return 3===t.counter}}]},prompt1:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Do you want to meet ".concat(t.celebrity,"?")}})),on:{ENDSPEECH:"ask"}},prompt2:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Would you like to meet ".concat(t.celebrity,"?")}})),on:{ENDSPEECH:"ask"}},prompt3:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Should I schedule you a meeting with ".concat(t.celebrity,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I didn't get it."),on:{ENDSPEECH:"choose"}}}},purpose:{initial:"choose",on:{RECOGNISED:[{target:"info",cond:function(t){return"title"in(f[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({title:function(t){return f[t.recResult[0].utterance].title}}),Object(i.b)({counter:function(t){return 0}})]},{target:".makeSurePurpose",cond:function(t){return"title"in(f[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:[Object(i.b)({uncertain:function(t){return t.recResult[0].utterance}})]},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch",actions:Object(i.b)({counter:function(t){return t.counter+1}})}],TIMEOUT:{actions:Object(i.b)({counter:function(t){return t.counter+1}}),target:".choose"}},states:{choose:{always:[{target:"prompt1",cond:function(t){return 0===t.counter}},{target:"prompt2",cond:function(t){return 1===t.counter}},{target:"prompt3",cond:function(t){return 2===t.counter}},{target:"#root.dm.init",cond:function(t){return 3===t.counter}}]},prompt1:{entry:l("What is it about?"),on:{ENDSPEECH:"ask"}},prompt2:{entry:l("What is your meeting about?"),on:{ENDSPEECH:"ask"}},prompt3:{entry:l("Please tell me the purpose of your meeting."),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I don't know what it is. Tell me something I know."),on:{ENDSPEECH:"choose"}},makeSurePurpose:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.info",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}}),Object(i.b)({title:function(t){return f[t.uncertain].title}})]},{target:"#root.dm.appointmentApp.purpose",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6}},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6}},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.uncertain,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureConfirmation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.info",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}}),Object(i.b)({title:function(t){return f[t.uncertain].title}})]},{target:"#root.dm.appointmentApp.purpose",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureNegation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.purpose",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"#root.dm.appointmentApp.info",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}}),Object(i.b)({title:function(t){return f[t.uncertain].title}})]},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}}}},info:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"OK, ".concat(t.title)}})),on:{ENDSPEECH:"date"}},date:{initial:"choose",on:{RECOGNISED:[{target:"info2",cond:function(t){return"day"in(f[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({day:function(t){return f[t.recResult[0].utterance].day}}),Object(i.b)({counter:function(t){return 0}})]},{target:".makeSureDay",cond:function(t){return"day"in(f[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:[Object(i.b)({uncertain:function(t){return t.recResult[0].utterance}})]},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch",actions:Object(i.b)({counter:function(t){return t.counter+1}})}],TIMEOUT:{actions:Object(i.b)({counter:function(t){return t.counter+1}}),target:".choose"}},states:{choose:{always:[{target:"prompt1",cond:function(t){return 0===t.counter}},{target:"prompt2",cond:function(t){return 1===t.counter}},{target:"prompt3",cond:function(t){return 2===t.counter}},{target:"#root.dm.init",cond:function(t){return 3===t.counter}}]},prompt1:{entry:l("On which day is this meeting going to be?"),on:{ENDSPEECH:"ask"}},prompt2:{entry:l("What is the day of your meeting?"),on:{ENDSPEECH:"ask"}},prompt3:{entry:l("Please tell me what day you plan this meeting for."),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not understand what you said."),on:{ENDSPEECH:"choose"}},makeSureDay:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.info2",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}}),Object(i.b)({day:function(t){return f[t.uncertain].day}})]},{target:"#root.dm.appointmentApp.date",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6}},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6}},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.uncertain,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureConfirmation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.info2",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}}),Object(i.b)({day:function(t){return f[t.uncertain].day}})]},{target:"#root.dm.appointmentApp.date",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureNegation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.date",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"#root.dm.appointmentApp.info2",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}}),Object(i.b)({day:function(t){return f[t.uncertain].day}})]},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}}}},time:{initial:"choose",on:{RECOGNISED:[{target:"info3",cond:function(t){return"time"in(f[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({time:function(t){return f[t.recResult[0].utterance].time}}),Object(i.b)({counter:function(t){return 0}})]},{target:".makeSureTime",cond:function(t){return"time"in(f[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:[Object(i.b)({uncertain:function(t){return t.recResult[0].utterance}})]},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch",actions:Object(i.b)({counter:function(t){return t.counter+1}})}],TIMEOUT:{actions:Object(i.b)({counter:function(t){return t.counter+1}}),target:".choose"}},states:{choose:{always:[{target:"prompt1",cond:function(t){return 0===t.counter}},{target:"prompt2",cond:function(t){return 1===t.counter}},{target:"prompt3",cond:function(t){return 2===t.counter}},{target:"#root.dm.init",cond:function(t){return 3===t.counter}}]},prompt1:{entry:l("What time is your meeting?"),on:{ENDSPEECH:"ask"}},prompt2:{entry:l("At what time will your meeting take place?"),on:{ENDSPEECH:"ask"}},prompt3:{entry:l("Please tell me the hour to schedule your meeting for."),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I didn't hear what time it was supposed to be."),on:{ENDSPEECH:"choose"}},makeSureTime:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.info3",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}}),Object(i.b)({time:function(t){return f[t.uncertain].time}})]},{target:"#root.dm.appointmentApp.time",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6}},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6}},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.uncertain,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureConfirmation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.info3",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}}),Object(i.b)({time:function(t){return f[t.uncertain].time}})]},{target:"#root.dm.appointmentApp.time",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureNegation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.time",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return t.counter+1}})},{target:"#root.dm.appointmentApp.info3",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:[Object(i.b)({counter:function(t){return 0}}),Object(i.b)({time:function(t){return f[t.uncertain].time}})]},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}}}},info2:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"OK, ".concat(t.day)}})),on:{ENDSPEECH:"allDay"}},info3:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"OK, ".concat(t.time)}})),on:{ENDSPEECH:"confirmTime"}},allDay:{initial:"choose",on:{RECOGNISED:[{target:"confirmAllDay",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"time",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:".makeSureDecision",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:[Object(i.b)({uncertain:function(t){return t.recResult[0].utterance}})]},{target:".makeSureDecision",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:[Object(i.b)({uncertain:function(t){return t.recResult[0].utterance}})]},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch",actions:Object(i.b)({counter:function(t){return t.counter+1}})}],TIMEOUT:{actions:Object(i.b)({counter:function(t){return t.counter+1}}),target:".choose"}},states:{choose:{always:[{target:"prompt1",cond:function(t){return 0===t.counter}},{target:"prompt2",cond:function(t){return 1===t.counter}},{target:"prompt3",cond:function(t){return 2===t.counter}},{target:"#root.dm.init",cond:function(t){return 3===t.counter}}]},prompt1:{entry:l("Will it take the whole day?"),on:{ENDSPEECH:"ask"}},prompt2:{entry:l("Will your meeting take the whole day?"),on:{ENDSPEECH:"ask"}},prompt3:{entry:l("Are you planning to spend your whole day on this meeting?"),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I didn't get it."),on:{ENDSPEECH:"choose"}},makeSureDecision:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.confirmAllDay",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"#root.dm.appointmentApp.time",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6}},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6}},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.uncertain,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureConfirmation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.confirmAllDay",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"#root.dm.appointmentApp.time",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureNegation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.time",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"#root.dm.appointmentApp.confirmAllDay",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}}}},confirmAllDay:{initial:"choose",on:{RECOGNISED:[{target:"success",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})},actions:Object(i.b)({counter:function(t){return 0}})},{target:"welcome",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})},actions:Object(i.b)({counter:function(t){return 0}})},{target:".makeSureDecision",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:[Object(i.b)({uncertain:function(t){return t.recResult[0].utterance}})]},{target:".makeSureDecision",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:[Object(i.b)({uncertain:function(t){return t.recResult[0].utterance}})]},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch",actions:Object(i.b)({counter:function(t){return t.counter+1}})}],TIMEOUT:{actions:Object(i.b)({counter:function(t){return t.counter+1}}),target:".choose"}},states:{choose:{always:[{target:"prompt1",cond:function(t){return 0===t.counter}},{target:"prompt2",cond:function(t){return 1===t.counter}},{target:"prompt3",cond:function(t){return 2===t.counter}},{target:"#root.dm.init",cond:function(t){return 3===t.counter}}]},prompt1:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"".concat(t.username,", do you want me to create a meeting titled ").concat(t.title," for ").concat(t.day," for the whole day?")}})),on:{ENDSPEECH:"ask"}},prompt2:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Dear ".concat(t.username,", should I create a meeting titled ").concat(t.title," for ").concat(t.day," for the whole day?")}})),on:{ENDSPEECH:"ask"}},prompt3:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"".concat(t.username,", shall I schedule you a meeting titled ").concat(t.title," for ").concat(t.day," for the whole day?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I didn't get it."),on:{ENDSPEECH:"choose"}},makeSureDecision:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.success",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"#root.dm.appointmentApp.welcome",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6}},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6}},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.uncertain,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureConfirmation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.success",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"#root.dm.appointmentApp.welcome",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureNegation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.welcome",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"#root.dm.appointmentApp.success",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}}}},confirmTime:{initial:"choose",on:{RECOGNISED:[{target:"success",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"welcome",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:".makeSureDecision",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:[Object(i.b)({uncertain:function(t){return t.recResult[0].utterance}})]},{target:".makeSureDecision",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:[Object(i.b)({uncertain:function(t){return t.recResult[0].utterance}})]},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch",actions:Object(i.b)({counter:function(t){return t.counter+1}})}],TIMEOUT:{actions:Object(i.b)({counter:function(t){return t.counter+1}}),target:".choose"}},states:{choose:{always:[{target:"prompt1",cond:function(t){return 0===t.counter}},{target:"prompt2",cond:function(t){return 1===t.counter}},{target:"prompt3",cond:function(t){return 2===t.counter}},{target:"#root.dm.init",cond:function(t){return 3===t.counter}}]},prompt1:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"".concat(t.username,", do you want me to create a meeting titled ").concat(t.title," for ").concat(t.day," at ").concat(t.time)}})),on:{ENDSPEECH:"ask"}},prompt2:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Dear ".concat(t.username,", should I create a meeting titled ").concat(t.title," for ").concat(t.day," at ").concat(t.time)}})),on:{ENDSPEECH:"ask"}},prompt3:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"".concat(t.username,", shall I schedule you a meeting titled ").concat(t.title," for ").concat(t.day," at ").concat(t.time)}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I didn't get it."),on:{ENDSPEECH:"choose"}},makeSureDecision:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.success",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"#root.dm.appointmentApp.welcome",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6}},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6}},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.uncertain,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureConfirmation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.success",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"#root.dm.appointmentApp.welcome",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}},makeSureNegation:{initial:"makeSure",on:{RECOGNISED:[{target:"#root.dm.appointmentApp.welcome",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"#root.dm.appointmentApp.success",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence>.6},actions:Object(i.b)({counter:function(t){return 0}})},{target:"makeSureConfirmation",cond:function(t){return"confirmation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"makeSureNegation",cond:function(t){return"negation"in(d[t.recResult[0].utterance]||{})&&t.recResult[0].confidence<=.6},actions:Object(i.b)({uncertainAnswer:function(t){return t.recResult[0].utterance}})},{target:"#root.dm.getHelp",cond:function(t){return"help"in(d[t.recResult[0].utterance]||{})}},{target:".nomatch"}],TIMEOUT:{target:".makeSure"}},states:{makeSure:{entry:Object(i.q)((function(t){return{type:"SPEAK",value:"Did you mean ".concat(t.recResult[0].utterance,"?")}})),on:{ENDSPEECH:"ask"}},ask:{entry:Object(i.q)("LISTEN")},nomatch:{entry:l("Sorry, I did not get that."),on:{ENDSPEECH:"makeSure"}}}}}},success:{entry:l("Your meeting has been created!"),on:{ENDSPEECH:"#root.dm.init"}}}}}},b=n(160),E=n.n(b),S=n(163),y=n.n(S),R=n(12),k=u.a.send,O=u.a.cancel,h="northeurope";Object(m.a)({url:"https://statecharts.io/inspect",iframe:!1});var j=Object(a.a)({id:"root",type:"parallel",states:{dm:Object(c.a)({},p),asrtts:{initial:"init",states:{init:{on:{CLICK:{target:"getToken",actions:[Object(i.b)({audioCtx:function(t){return new(window.AudioContext||window.webkitAudioContext)}}),function(t){return navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){t.audioCtx.createMediaStreamSource(e)}))}]}}},getToken:{invoke:{id:"getAuthorizationToken",src:function(t,e){return D()},onDone:{actions:[Object(i.b)((function(t,e){return{azureAuthorizationToken:e.data}})),"ponyfillASR"],target:"ponyfillTTS"},onError:{target:"fail"}}},ponyfillTTS:{invoke:{id:"ponyTTS",src:function(t,e){return function(e,n){var r=y()({audioContext:t.audioCtx,credentials:{region:h,authorizationToken:t.azureAuthorizationToken}}),c=r.speechSynthesis,o=r.SpeechSynthesisUtterance;t.tts=c,t.ttsUtterance=o,t.tts.addEventListener("voiceschanged",(function(){t.tts.cancel();var n=t.tts.getVoices(),r=RegExp("en-US","u");r=RegExp("en-US","u");var c=n.find((function(t){return r.test(t.name)}));c?(t.voice=c,e("TTS_READY")):(console.error("TTS_ERROR: Could not get voice for regexp ".concat(r)),e("TTS_ERROR"))}))}}},on:{TTS_READY:"idle",TTS_ERROR:"fail"}},idle:{on:{LISTEN:"recognising",SPEAK:{target:"speaking",actions:Object(i.b)((function(t,e){return{ttsAgenda:e.value}}))}}},recognising:{initial:"noinput",exit:"recStop",on:{ASRRESULT:{actions:["recLogResult",Object(i.b)((function(t,e){return{recResult:e.value}}))],target:".match"},RECOGNISED:"idle",SELECT:"idle",CLICK:".pause"},states:{noinput:{entry:["recStart",k({type:"TIMEOUT"},{delay:function(t){return 500*(t.tdmPassivity||10)},id:"timeout"})],on:{TIMEOUT:"#root.asrtts.idle",STARTSPEECH:"inprogress"},exit:O("timeout")},inprogress:{},match:{entry:k("RECOGNISED")},pause:{entry:"recStop",on:{CLICK:"noinput"}}}},speaking:{entry:"ttsStart",on:{ENDSPEECH:"idle",SELECT:"idle",CLICK:{target:"idle",actions:k("ENDSPEECH")}},exit:"ttsStop"},fail:{}}}}},{actions:{recLogResult:function(t){console.log("U>",t.recResult[0].utterance,t.recResult[0].confidence)},logIntent:function(t){console.log("<< NLU intent: "+t.nluData.intent.name)}}}),N=function(t){var e=((t.state.context.tdmVisualOutputInfo||[{}]).find((function(t){return"name"===t.attribute}))||{}).value,n=((t.state.context.tdmVisualOutputInfo||[{}]).find((function(t){return"image"===t.attribute}))||{}).value,r="circle";switch(!0){case t.state.matches({asrtts:"fail"})||t.state.matches({dm:"fail"}):break;case t.state.matches({asrtts:{recognising:"pause"}}):e="Click to continue";break;case t.state.matches({asrtts:"recognising"}):r="circle-recognising",e=e||"Listening...";break;case t.state.matches({asrtts:"speaking"}):r="circle-speaking",e=e||"Speaking...";break;case t.state.matches({dm:"idle"}):case t.state.matches({dm:"init"}):e="Click to start!",r="circle-click";break;default:e=e||"\xa0"}return Object(R.jsxs)("div",{className:"control",children:[Object(R.jsx)("figure",{className:"prompt",children:n&&Object(R.jsx)("img",{src:n,alt:e})}),Object(R.jsxs)("div",{className:"status",children:[Object(R.jsx)("button",Object(c.a)({type:"button",className:r,style:{}},t)),Object(R.jsx)("div",{className:"status-text",children:e})]})]})},A=function(t){var e=t.alternative.find((function(t){return"name"===t.attribute})).value,n=(t.alternative.find((function(t){return"image"===t.attribute}))||{}).value;return Object(R.jsxs)("figure",Object(c.a)(Object(c.a)({className:"flex"},t),{},{children:[n&&Object(R.jsx)("img",{src:n,alt:e}),Object(R.jsx)("figcaption",{children:e})]}))};function C(){var t=Object(s.b)(j,{devTools:!0,actions:{changeColour:Object(s.a)((function(t){document.body.style.background=t.recResult[0].utterance})),recStart:Object(s.a)((function(t){t.asr.start()})),recStop:Object(s.a)((function(t){t.asr.abort()})),ttsStart:Object(s.a)((function(t){var e='<speak version="1.0" xmlns="http://www.w3.org/2001/10/synthesis" xmlns:mstts="http://www.w3.org/2001/mstts" xml:lang="en-US"><voice name="'.concat(t.voice.name,'">');e+='<lexicon uri="'.concat("https://raw.githubusercontent.com/Turtilla/lexicons/gh-pages/gh-pages/lexicon.xml",'"/>'),e+="".concat(t.ttsAgenda,"</voice></speak>"),console.debug(e);var n=new t.ttsUtterance(e);console.log("S>",t.ttsAgenda),n.voice=t.voice,n.onend=function(){return c("ENDSPEECH")},t.tts.speak(n)})),ttsStop:Object(s.a)((function(t){t.tts.cancel()})),ponyfillASR:Object(s.a)((function(t,e){var n=E()({audioContext:t.audioCtx,credentials:{region:h,authorizationToken:t.azureAuthorizationToken}}).SpeechRecognition;t.asr=new n,t.asr.lang="en-US",t.asr.continuous=!0,t.asr.interimResults=!0,t.asr.onresult=function(t){var e=t.results[0];e.isFinal?c({type:"ASRRESULT",value:[{utterance:e[0].transcript,confidence:e[0].confidence}]}):c({type:"STARTSPEECH"})}}))}}),e=Object(r.a)(t,2),n=e[0],c=e[1],o=(n.context.tdmExpectedAlternatives||[]).filter((function(t){return t.visual_information})).map((function(t,e){return Object(R.jsx)(A,{state:n,alternative:t.visual_information,onClick:function(){return c({type:"SELECT",value:t.semantic_expression})}},e)}));return Object(R.jsxs)("div",{className:"App",children:[Object(R.jsx)(N,{state:n,alternative:{},onClick:function(){return c("CLICK")}}),Object(R.jsx)("div",{className:"select-wrapper",children:Object(R.jsx)("div",{className:"select",children:o})})]})}var D=function(){return fetch(new Request("https://northeurope.api.cognitive.microsoft.com/sts/v1.0/issuetoken",{method:"POST",headers:{"Ocp-Apim-Subscription-Key":"73e804990e534cacb543e91acb2f9da8"}})).then((function(t){return t.text()}))},I=document.getElementById("root");o.render(Object(R.jsx)(C,{}),I)}},[[456,1,2]]]);
//# sourceMappingURL=main.1008bbdb.chunk.js.map